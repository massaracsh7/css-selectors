(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var s=e.g.document;if(!t&&s&&(s.currentScript&&(t=s.currentScript.src),!t)){var l=s.getElementsByTagName("script");if(l.length)for(var i=l.length-1;i>-1&&(!t||!/^http(s?):/.test(t));)t=l[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();class t{constructor(e,t,...s){this.create=()=>{const e=document.createElement(this.tagName);return e.classList.add(this.className),e.append(...this.arg),e},this.tagName=e,this.className=t,this.arg=s}}class s{constructor(...[e,t,s]){this.create=()=>{const e=document.createElement("a");return e.classList.add(this.className),e.innerHTML=this.text||"",e.href=this.href,e},this.className=e,this.text=t,this.href=s}}class l{constructor(...[e,t,s]){this.create=()=>{const e=document.createElement(this.tagName);return e.classList.add(this.className),e.innerHTML=this.text||"",e},this.tagName=e,this.className=t,this.text=s}}class i{constructor(){this.view=()=>{const e=document.createElement("img");e.src="https://rs.school/images/rs_school_js.svg";const i=new s("footer__git","github","https://github.com/massaracsh7"),a=new l("div","footer__year","2023"),c=new s("footer__rss","","https://rs.school/js/").create();return c.append(e),new t("footer","footer",i.create(),a.create(),c).create()}}}const a=e.p+"assets/9cacbf7e6559e871e984.png",c=e.p+"assets/f0ce40a9edf282ab43d5.png",r=e.p+"assets/7a402ad6a7d54b03953c.png",n=e.p+"assets/b7bc352feb7f88b2908d.png",o=e.p+"assets/d99d6ab136b940643dc1.png",h=e.p+"assets/3e472b5a5b99279c98c0.png",d=e.p+"assets/2d4509394d12e71a1a20.png",m=e.p+"assets/de22e7708a06a87bfd83.png",u=e.p+"assets/83cfb989e13773e39669.png",p=[{helpTitle:"Select by type A",doThis:"Select the zebra",selector:"zebra",arr:["duck","zebra","giraffe","flamingo"],question:[o,m,u,d],rightAnswer:[1]},{helpTitle:"Select by .classname",doThis:"Select the brown circle",selector:".brown",arr:["duck","circle.brown","circle","flamingo"],question:[o,a,n,d],rightAnswer:[1]},{doThis:"Select the beach ball",selector:"ball.beach",helpTitle:"Combine  A.classname",arr:["ball","circle.beach","ball.beach","flamingo"],question:[h,a,r,d],rightAnswer:[2]},{doThis:"Select the Watermelon circle",selector:"#watermelon",helpTitle:"Select by #id",arr:["zebra","circle#watermelon","duck","circle.beach"],question:[m,n,o,a],rightAnswer:[1]},{doThis:"Select all the elements",selector:"*",helpTitle:"Select by *",arr:["zebra","giraffe","flamingo","duck"],question:[m,u,d,o],rightAnswer:[0,1,2,3]},{helpTitle:"Select by :first-child",doThis:"Select the first circle",selector:"circle:first-child",arr:["circle","circle","circle","ball.beach"],question:[n,a,c,h],rightAnswer:[0]},{helpTitle:"Select by :last-child",doThis:"Select the last duck",selector:"duck:last-child",arr:["flamingo","duck","duck","duck"],question:[d,o,o,o],rightAnswer:[3]},{helpTitle:"Select by :nth-child(n)",doThis:"Select the 4th ball",selector:"ball:nth-child(4)",arr:["ball","ball","ball","ball","ball"],question:[h,h,h,h,h],rightAnswer:[3]},{helpTitle:"Select by :nth-child(even)",doThis:"Select even balls",selector:"ball:nth-child(even)",arr:["ball","ball","ball","ball","ball"],question:[r,r,r,r,r],rightAnswer:[1,3]},{doThis:"Select the circle next to the flamingo",selector:"flamingo + circle",helpTitle:"Select  A + B",arr:["circle","flamingo","circle","circle"],question:[n,d,c,c],rightAnswer:[2]},{doThis:"Select all ducks next to the giraffe",selector:"giraffe ~ duck",helpTitle:"Select  A ~ B",arr:["duck","giraffe","duck","duck"],question:[o,u,o,o],rightAnswer:[2,3]},{doThis:"Select all that are not round",selector:"*:not(.round)",helpTitle:"Select  :not(X) ",arr:["ball.round","duck","circle.round","flamingo"],question:[r,o,n,d],rightAnswer:[1,3]}];class v{constructor(...[e,t,s,l]){this.create=()=>{const e=document.createElement("button");return e.classList.add(this.className),e.innerHTML=this.text||"",e.type=this.type,e.addEventListener("click",this.callback),e},this.className=e,this.text=t,this.type=s,this.callback=l}}class g{constructor(){this.create=()=>new v("reset","reset","submit",this.clear).create(),this.clear=()=>{localStorage.clear(),localStorage.setItem("level","0"),document.querySelectorAll(".level__item").forEach((e=>{e.classList.remove("level__item--right"),e.classList.remove("level__item--wrong")})),window.location.reload()}}}class w{constructor(){this.scene=document.createElement("div"),this.exampleCode=document.createElement("div"),this.formCss=document.createElement("form"),this.inputCss=document.createElement("input"),this.levels=p,this.levelActive=+(localStorage.getItem("level")||0),this.isPassedLevel=!0,this.createLineNumber=()=>{const e=document.createElement("div");e.classList.add("line-number");for(let t=0;t<10;t+=1)e.innerHTML+=`${t+1}<br>`;return e},this.createScene=()=>{const e=document.createElement("div");return e.classList.add("scene__wrapper"),this.levels[this.levelActive].question.forEach(((t,s)=>{const l=document.createElement("div");l.classList.add("scene__box");const i=document.createElement("div");i.classList.add("scene__tooltip");const a=document.createElement("img");a.classList.add("scene__img"),a.dataset.numI=s.toString(),this.levels[this.levelActive].rightAnswer.forEach((e=>{s===e&&a.classList.add("image--search")})),a.src=t,a.addEventListener("mouseenter",(e=>this.shineImg(e))),a.addEventListener("mouseleave",(e=>this.shineImg(e))),l.append(i,a),e.append(l)})),e},this.shineImg=e=>{const t=+(e.target.dataset.numI||""),s=document.querySelectorAll(".scene__box"),l=document.querySelectorAll(".wrap");"mouseenter"===e.type&&(e.stopPropagation(),l[t].classList.add("code--shine"),s[t].classList.add("scene__box--shine"),s[t].firstChild.textContent=l[t].textContent),"mouseleave"===e.type&&(e.stopPropagation(),l[t].classList.remove("code--shine"),s[t].classList.remove("scene__box--shine"))},this.createExampleCode=()=>{const e=document.createElement("pre");return e.append(new l("span","code--begin","&lt;beach>").create()),this.levels[this.levelActive].arr.forEach(((t,s)=>{e.append(this.getHTMLView(t,s))})),e.append(new l("span","code--end","&lt;/beach>").create()),e},this.shineCode=e=>{const t=+(e.target.dataset.num||""),s=document.querySelectorAll(".scene__box");"mouseenter"===e.type&&(e.stopPropagation(),e.target.classList.add("code--shine"),s[t].classList.add("scene__box--shine"),s[t].firstChild.textContent=e.target.textContent),"mouseleave"===e.type&&(e.stopPropagation(),e.target.classList.remove("code--shine"),s[t].classList.remove("scene__box--shine"))},this.getHTMLView=(e,t)=>{const s=document.createElement("div");s.classList.add("wrap"),s.dataset.num=t.toString();let i=`&lt${e}>`,a=`&lt;/${e}>`;if(e.includes(".")){const t=e.split(".");i=`&lt${t[0]} <span style='color:blue'>class=</span><span style='color:red'>'${t[1]}'</span>>`,a=`&lt;/${t[0]}>`}if(e.includes("#")){const t=e.split("#");i=`&lt${t[0]} <span style='color:red'>id=</span><span style='color:orange'>'${t[1]}'</span>>`,a=`&lt;/${t[0]}>`}return s.addEventListener("mouseenter",(e=>this.shineCode(e))),s.addEventListener("mouseleave",(e=>this.shineCode(e))),s.append(new l("span","code",`${i}${a}`).create()),s},this.createCssEditor=()=>(this.formCss.classList.add("form"),this.inputCss.classList.add("form__input","input-flash"),this.inputCss.placeholder="Type in a CSS selector",this.inputCss.setAttribute("autofocus","autofocus"),this.formCss.append(this.inputCss,new v("button--enter","Enter","button",this.checkResult).create(),new v("button--help","help","button",this.showAnswer).create()),this.formCss.addEventListener("keydown",(e=>{"Enter"===e.key&&(e.stopPropagation(),e.preventDefault(),this.checkResult())})),this.formCss),this.showAnswer=()=>{this.levelActive=+(localStorage.getItem("level")||0);const e=this.levels[this.levelActive].selector.split("");let t=0;this.inputCss.value="",this.inputCss.classList.remove("input-flash");const s=()=>{t!==e.length?(this.inputCss.value+=e[t],t+=1,setTimeout(s,300)):this.inputCss.classList.add("input-flash")};s(),this.isPassedLevel=!1},this.checkResult=()=>{if(this.levelActive=+(localStorage.getItem("level")||0),this.inputCss.value===`${this.levels[this.levelActive].selector}`){if(this.setLocalStorageResult(),this.scene.querySelectorAll(".image--search").forEach((e=>{e.classList.add("image--win")})),this.levelActive+=1,this.isPassedLevel=!0,this.levelActive>=this.levels.length&&(this.levelActive=0),localStorage.setItem("level",JSON.stringify(this.levelActive)),setTimeout((()=>this.loadLevel()),1e3),this.inputCss.value="",localStorage.results){const e=JSON.parse(localStorage.getItem("results")||""),t=[...new Set([...e.right,...e.wrong])];if(this.levels.length===t.length){const e=document.querySelector(".modal");null==e||e.classList.add("modal--active")}}}else this.exampleCode.classList.add("shaking"),this.inputCss.classList.add("shaking"),setTimeout((()=>this.exampleCode.classList.remove("shaking")),5e3),setTimeout((()=>this.inputCss.classList.remove("shaking")),5e3),this.inputCss.value=""},this.setLocalStorageResult=()=>{const e=localStorage.results?JSON.parse(localStorage.getItem("results")||""):{right:[],wrong:[]},t=document.querySelectorAll(".level__item");!0===this.isPassedLevel&&(e.right.push(this.levelActive),t[this.levelActive].classList.add("level__item--right")),!1===this.isPassedLevel&&(e.wrong.push(this.levelActive),t[this.levelActive].classList.add("level__item--wrong")),localStorage.setItem("results",JSON.stringify(e))},this.loadLevel=()=>{localStorage.setItem("level",`${this.levelActive}`),document.querySelectorAll(".level__item").forEach(((e,t)=>{e.classList.remove("level__item--active"),t===this.levelActive&&e.classList.add("level__item--active")})),document.querySelector(".scene").innerHTML="",document.querySelector(".scene").insertAdjacentElement("afterbegin",this.createScene()),document.querySelector(".example__box").innerHTML="",document.querySelector(".example__box").insertAdjacentElement("afterbegin",this.createExampleCode()),document.querySelector(".instr__header").textContent=this.levels[this.levelActive].doThis},this.view=()=>(this.scene.classList.add("scene"),this.scene.append(this.createScene()),this.exampleCode.classList.add("example__box"),this.exampleCode.append(this.createExampleCode()),new t("section","game",new t("div","instr",new l("h2","instr__header",this.levels[this.levelActive].doThis).create(),this.scene).create(),new t("div","game__wrapper",new t("div","editor",new t("div","editor__header",new l("span","editor__title","CSS Editor").create(),new l("span","editor__name","style.css").create()).create(),new t("div","editor__main",this.createLineNumber(),this.createCssEditor()).create()).create(),new t("div","example",new t("div","example__header",new l("span","example__title","HTML View").create(),new l("span","example__name","index.html").create()).create(),new t("div","example__main",this.createLineNumber(),this.exampleCode).create()).create()).create()).create())}}class b extends w{constructor(){super(...arguments),this.levelsNew=p,this.viewLevel=()=>{const e=document.createElement("ul");e.classList.add("level__list");for(let t=0;t<this.levelsNew.length;t+=1){const s=document.createElement("li");if(s.classList.add("level__item"),s.id=t.toString(),t===this.levelActive&&s.classList.add("level__item--active"),localStorage.results){const e=JSON.parse(localStorage.getItem("results")||"");e.right.includes(t)&&s.classList.add("level__item--right"),e.wrong.includes(t)&&s.classList.add("level__item--wrong")}s.innerHTML=`<span class="level__text">${t+1}.${this.levelsNew[t].helpTitle}</span>`,e.append(s),s.addEventListener("click",(()=>{this.levelActive=+s.id,this.loadLevel(),s.classList.add("level__item--active")}))}const s=new g;return new t("div","level",e,s.create()).create()}}}class _{constructor(){this.view=()=>{const e=new w,s=new b;return new t("main","main",e.view(),s.viewLevel()).create()}}}class f{constructor(){this.create=()=>{const e=new l("div","modal__text","Game over"),s=new v("modal__btn","New Game","button",this.show),i=new t("div","modal__wrapper",e.create(),s.create());return new t("div","modal",i.create()).create()},this.show=()=>{const e=document.querySelector(".modal");null==e||e.classList.remove("modal--active"),localStorage.clear(),window.location.reload()}}}(new class{constructor(){this.start=()=>{const e=document.createElement("div");e.classList.add("wrapper");const t=new f,s=new i,l=new _;e.append(l.view(),s.view(),t.create()),document.body.append(e)}}}).start()})();